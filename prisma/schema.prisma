generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  name              String   @id
  createdAt         DateTime @default(now())
  player1           Solo[]   @relation("Player1")
  player2           Solo[]   @relation("Player2")
  schnickelgewinner Solo[]   @relation("Schnickelgewinner")
  Winner            Solo[]   @relation("Winner")
}

model Solo {
  id                Int      @id @default(autoincrement())
  date              DateTime @default(now())
  Player1           String?
  Player2           String?
  count             Int
  Schnickelgewinner String?
  leftover          Int
  Winner            String?
  typeName          String?
  User              User?    @relation("Player1", fields: [Player1], references: [name])
  User2             User?    @relation("Player2", fields: [Player2], references: [name])
  User3             User?    @relation("Schnickelgewinner", fields: [Schnickelgewinner], references: [name])
  User4             User?    @relation("Winner", fields: [Winner], references: [name])
  Type              Type?    @relation("typeName", fields: [typeName], references: [name])
}

model Type {
  name String @id
  Solo Solo[] @relation("typeName")
}
